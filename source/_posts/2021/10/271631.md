---
title: Mac M1 Javaå¼€å‘ç¯å¢ƒé…ç½®
date: 2021-10-27
categories:
  - Java
tags:
  - M1
  - JDK

---

![wall](https://fastly.jsdelivr.net/gh/qbmzc/images/2021/202110271641180.png)

<!-- more -->

## JDKå¸è½½

å¸è½½å…¶ä»–ç‰ˆæœ¬çš„`jdk`

```bash
sudo rm -rf /Library/Internet\ Plug-Ins/JavaAppletPlugin.plugin 
sudo rm -rf /Library/PreferencesPanes/JavaControlPanel.prefpane
sudo rm -rf /Library/Java/JavaVirtualMachines
```

## JDKé…ç½®

ç›®å‰ `Zulu JDK` æ”¯æŒ `M1`èŠ¯ç‰‡ï¼Œä¸‹è½½[Download Azul Zulu Builds of OpenJDK | Azul](https://www.azul.com/downloads/?package=jdk#download-openjdk) ä¸”æ”¯æŒçš„ç‰ˆæœ¬è¾ƒå¤šï¼Œ

ä¸‹è½½åç‚¹å‡»å®‰è£…ï¼Œåœ¨æ§åˆ¶å°è¾“å…¥`java -version`

```bash
openjdk version "11.0.13" 2021-10-19 LTS
OpenJDK Runtime Environment Zulu11.52+13-CA (build 11.0.13+8-LTS)
OpenJDK 64-Bit Server VM Zulu11.52+13-CA (build 11.0.13+8-LTS, mixed mode)
```

## å¤šç‰ˆæœ¬JDK

ä¸‹è½½ä¸åŒç‰ˆæœ¬å®‰è£…å³å¯ï¼Œ`Zulu JDK`é»˜è®¤å®‰è£…åœ¨`/Library/Java/JavaVirtualMachines`ç›®å½•ä¸‹ï¼Œé…ç½® `JAVA_HOME`åˆ‡æ¢ `JDK`ç‰ˆæœ¬, ä¿®æ”¹`~/.zshrc`æ–‡ä»¶,æ²¡æœ‰åˆ›å»ºä¸€ä¸ª, å°†é…ç½®åŠ å…¥åˆ°æ–‡ä»¶æœ«å°¾

```bash
# export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home
export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home
```

## Maven

ä¸‹è½½[maven](https://maven.apache.org/download.cgi), è§£å‹åç§»åŠ¨åˆ° `/opt`ç›®å½•ä¸‹ï¼ˆä¸ç§»åŠ¨åˆ°`/opt`ä¸‹ä¹Ÿè¡Œï¼‰ï¼Œé…ç½®`MAVEN_HOME`, ä¿®æ”¹`~/.zshrc`æ–‡ä»¶ï¼Œ å°†é…ç½®åŠ å…¥åˆ°æ–‡ä»¶æœ«å°¾

```bash
export MAVEN_HOME=/opt/apache-maven-3.8.1

export PATH=$PATH:$MAVEN_HOME/bin
```

`mvn -version`

```bash
Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)
Maven home: /Users/cong/IdeaProjects/apache-maven-3.8.1
Java version: 11.0.13, vendor: Azul Systems, Inc., runtime: /Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home
Default locale: zh_CN_#Hans, platform encoding: UTF-8
OS name: "mac os x", version: "12.0.1", arch: "aarch64", family: "mac"
```

## Git

### âš™ï¸ â€‹**ä¸€ã€å®‰è£… Git**â€‹

1. â€‹**æ£€æŸ¥æ˜¯å¦å·²å®‰è£…**â€‹  
    ç»ˆç«¯è¾“å…¥Â `git --version`ï¼Œè‹¥æ˜¾ç¤ºç‰ˆæœ¬å·ï¼ˆå¦‚Â `git version 2.32.0`ï¼‰è¯´æ˜å·²å®‰è£…ã€‚
    
2. â€‹**å®‰è£…æ–¹æ³•**â€‹
    
    - â€‹**æ¨èï¼ˆHomebrewï¼‰â€‹**â€‹ï¼š
        
        ```
        /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"  # å®‰è£…Homebrew
        brew install git  # å®‰è£…Git
        ```
        
    - â€‹**å…¶ä»–æ–¹å¼**â€‹ï¼š
        - Xcode Command Line Toolsï¼šç»ˆç«¯è¿è¡ŒÂ `xcode-select --install`ã€‚
        - æ‰‹åŠ¨å®‰è£…ï¼šä»Â [Gitå®˜ç½‘](https://git-scm.com/download/mac)Â ä¸‹è½½Â `.dmg`Â æ–‡ä»¶å®‰è£…ã€‚

---

### âš™ï¸ â€‹**äºŒã€åŸºç¡€é…ç½®**â€‹

1. â€‹**ç”¨æˆ·èº«ä»½è®¾ç½®**â€‹
    
    ```
    git config --global user.name "Your Name"
    git config --global user.email "your.email@example.com"
    ```
    
    _ï¼ˆæ­¤ä¿¡æ¯ç”¨äºæ ‡è¯†æäº¤è®°å½•ï¼‰_ã€‚
    
2. â€‹**SSH å¯†é’¥é…ç½®ï¼ˆè¿æ¥è¿œç¨‹ä»“åº“ï¼‰â€‹**â€‹
    
    - ç”Ÿæˆå¯†é’¥ï¼š
        
        ```
        ssh-keygen -t ed25519 -C "your.email@example.com"
        ```
        
    - æ·»åŠ å…¬é’¥åˆ° GitHub/GitLabï¼š
        
        ```
        cat ~/.ssh/id_ed25519.pub  # å¤åˆ¶è¾“å‡ºå†…å®¹åˆ°å¹³å°SSHè®¾ç½®é¡µ
        ```
        
    - æµ‹è¯•è¿æ¥ï¼š
        
        ```
        ssh -T git@github.com  # æˆåŠŸæç¤º "Hi username!"
        ```
        
        _ï¼ˆè§£å†³æƒé™é”™è¯¯ï¼šè¿è¡ŒÂ `ssh-add ~/.ssh/id_ed25519`ï¼‰_ã€‚

---

### âš™ï¸ â€‹**ä¸‰ã€åŸºç¡€æ“ä½œ**â€‹

|â€‹**æ“ä½œ**â€‹|â€‹**å‘½ä»¤**â€‹|â€‹**è¯´æ˜**â€‹|
|---|---|---|
|â€‹**åˆå§‹åŒ–ä»“åº“**â€‹|`git init`|å½“å‰ç›®å½•åˆ›å»ºæ–°ä»“åº“ã€‚|
|â€‹**å…‹éš†ä»“åº“**â€‹|`git clone <è¿œç¨‹ä»“åº“URL>`|ä¸‹è½½è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°ã€‚|
|â€‹**æ·»åŠ æ–‡ä»¶**â€‹|`git add <æ–‡ä»¶å>`Â æˆ–Â `git add .`|å°†æ–‡ä»¶åŠ å…¥æš‚å­˜åŒºã€‚|
|â€‹**æäº¤æ›´æ”¹**â€‹|`git commit -m "æäº¤è¯´æ˜"`|ä¿å­˜æš‚å­˜åŒºå†…å®¹åˆ°æœ¬åœ°ä»“åº“ã€‚|
|â€‹**æŸ¥çœ‹çŠ¶æ€**â€‹|`git status`|æ˜¾ç¤ºä¿®æ”¹/æœªè·Ÿè¸ªæ–‡ä»¶ã€‚|
|â€‹**æŸ¥çœ‹å†å²**â€‹|`git log`|æ˜¾ç¤ºæäº¤è®°å½•ã€‚|
|â€‹**æ’¤é”€ä¿®æ”¹**â€‹|`git checkout -- <æ–‡ä»¶å>`|ä¸¢å¼ƒæœªæäº¤çš„ä¿®æ”¹ã€‚|

---

### âš™ï¸ â€‹**å››ã€åˆ†æ”¯ç®¡ç†**â€‹

1. â€‹**åˆ›å»ºä¸åˆ‡æ¢åˆ†æ”¯**â€‹
    
    ```
    git branch feature-branch    # åˆ›å»ºåˆ†æ”¯
    git checkout feature-branch  # åˆ‡æ¢åˆ†æ”¯ï¼ˆæˆ– `git switch feature-branch`ï¼‰
    ```
    
2. â€‹**åˆå¹¶ä¸åˆ é™¤åˆ†æ”¯**â€‹
    
    ```
    git checkout main              # åˆ‡æ¢å›ä¸»åˆ†æ”¯
    git merge feature-branch       # åˆå¹¶åˆ†æ”¯
    git branch -d feature-branch   # åˆ é™¤åˆ†æ”¯
    ```
    
    _ï¼ˆåˆå¹¶å†²çªéœ€æ‰‹åŠ¨è§£å†³ï¼‰_ã€‚

---

### âš™ï¸ â€‹**äº”ã€è¿œç¨‹ä»“åº“æ“ä½œ**â€‹

1. â€‹**å…³è”è¿œç¨‹ä»“åº“**â€‹
    
    ```
    git remote add origin <è¿œç¨‹ä»“åº“URL>  # å‘½åè¿œç¨‹ä»“åº“ä¸º originã€‚
    ```
    
2. â€‹**æ¨é€ä¸æ‹‰å–ä»£ç **â€‹
    
    ```
    git push origin main     # æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹
    git pull origin main     # æ‹‰å–è¿œç¨‹æ›´æ–°åˆ°æœ¬åœ°
    ```
    
    _ï¼ˆé¦–æ¬¡æ¨é€éœ€åŠ Â `-u`ï¼š`git push -u origin main`ï¼‰_ã€‚

---

### âš™ï¸ â€‹**å…­ã€é«˜çº§æŠ€å·§**â€‹

1. â€‹**å›æ»šä»£ç **â€‹
    
    ```
    git reset --hard HEAD~1   # å›é€€åˆ°ä¸Šä¸€ä¸ªæäº¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼ï¼‰
    git reset <commitå“ˆå¸Œ>     # å›é€€åˆ°æŒ‡å®šæäº¤
    ```
    
2. â€‹**é…ç½®åˆ«åç®€åŒ–å‘½ä»¤**â€‹
    
    ```
    git config --global alias.st status   # `git st` ä»£æ›¿ `git status`
    git config --global alias.lg "log --oneline --graph --all"  # å›¾å½¢åŒ–æ—¥å¿—
    ```
    
3. â€‹**è§£å†³æƒé™é—®é¢˜**â€‹  
    è‹¥æç¤ºÂ `dubious ownership`ï¼š
    
    ```
    git config --global --add safe.directory "*"  # ä¿¡ä»»å½“å‰ç›®å½•
    ```
    

---

### ğŸ’¡ â€‹**Git å‘½ä»¤é€ŸæŸ¥è¡¨**â€‹

|â€‹**åœºæ™¯**â€‹|â€‹**å‘½ä»¤**â€‹|
|---|---|
|åˆå§‹åŒ–ä»“åº“|`git init`|
|å…‹éš†ä»“åº“|`git clone <URL>`|
|æäº¤æ›´æ”¹|`git add .`Â â†’Â `git commit -m "æ¶ˆæ¯"`|
|åˆ†æ”¯æ“ä½œ|`git branch`Â /Â `git checkout`Â /Â `git merge`|
|è¿œç¨‹åŒæ­¥|`git push`Â /Â `git pull`|
|æŸ¥çœ‹æ—¥å¿—|`git log --oneline --graph`|

---

ğŸ’ â€‹**æç¤º**â€‹ï¼š

- â€‹**æƒé™é—®é¢˜**â€‹ï¼šè‹¥é‡åˆ°Â `Permission denied`ï¼Œæ£€æŸ¥ SSH å¯†é’¥æ˜¯å¦æ·»åŠ è‡³Â `ssh-agent`ï¼ˆ`eval "$(ssh-agent -s)"`Â â†’Â `ssh-add ~/.ssh/id_ed25519`ï¼‰ã€‚
- â€‹**æ¢è¡Œç¬¦å¤„ç†**â€‹ï¼šMac/Linux å»ºè®®è®¾ç½®Â `git config --global core.autocrlf input`Â é¿å…è·¨å¹³å°æ¢è¡Œç¬¦é—®é¢˜ã€‚
- â€‹**å›¾å½¢å·¥å…·**â€‹ï¼šå¯ä½¿ç”¨ â€‹**Sourcetree**â€‹ å¯è§†åŒ–æ“ä½œï¼ˆä¸‹è½½åœ°å€ï¼š[Sourcetreeå®˜ç½‘](https://www.sourcetreeapp.com/)ï¼‰ã€‚

> æ›´å®Œæ•´å‘½ä»¤å‚è€ƒÂ [Git å®˜æ–¹æ–‡æ¡£](https://git-scm.com/book/zh/v2)ã€‚